{"version":3,"sources":["0","index.js"],"names":["module","exports","name","amount","type","campaignCard","_cache","cache","cardIsFront","limitDonorsShown","flip","e","data","cardBack","classList","add","addEventListener","cardFront","remove","once","setDonors","donor","total","donorsTableSibling","document","querySelector","donors","map","el","i","insertAdjacentHTML","setDonorTotal","elements","querySelectorAll","length","textContent","toLocaleString","setNumOfDonors","init","card","getElementById","target","contains"],"mappings":"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","file":"src.bead8c73.map","sourceRoot":"../src","sourcesContent":[null,"import 'sanitize.css';\nimport './css/variables.css';\nimport './css/index.css';\nimport donors from './assets/donors.json'\n\nconst campaignCard = () => ({\n  // initiate cache\n  _cache() {\n    let cache = (\n      {\n        cardIsFront: true,\n        limitDonorsShown: 10\n      }\n    );\n    return cache;\n  },\n  // flip card\n  flip(e, data) {\n    // toggle cardFront boolean\n    data.cardIsFront = !data.cardIsFront;\n\n    // if card front visible\n    if(data.cardIsFront) {\n\n      // card back animation leave\n      data.cardBack.classList.add('flip_out');\n\n      // wait for card back animation end\n      data.cardBack.addEventListener(\"animationend\", function(){\n        // card back hide\n        data.cardBack.classList.add('hide');\n        // card front remove hide\n        data.cardFront.classList.remove('hide');\n        // card back animation enter\n        data.cardFront.classList.add('flip_in');\n      }, { once: true });\n\n      data.cardFront.addEventListener(\"animationend\", function(){\n        // remove ui classes\n        data.cardBack.classList.remove('flip_out');\n        data.cardFront.classList.remove('flip_in');\n      }, { once: true });\n\n    } else {\n\n      // card front animation leave\n      data.cardFront.classList.add('flip_out');\n\n      // wait for card front animation end\n      data.cardFront.addEventListener(\"animationend\", function(){\n        // card back remove hide\n        data.cardFront.classList.add('hide');\n        // card front hide\n        data.cardBack.classList.remove('hide');\n        // card back animation enter\n        data.cardBack.classList.add('flip_in');\n      }, { once: true });\n\n      // wait for card back animation\n      data.cardBack.addEventListener(\"animationend\", function(){\n        // remove ui classes\n        data.cardFront.classList.remove('flip_out');\n        data.cardBack.classList.remove('flip_in');\n      }, { once: true });\n    }\n  },\n  // set donor's info\n  setDonors(data) {\n    let donor;\n    let total = 0;\n    let donorsTableSibling = document.querySelector('.card_back--article-table_thead');\n\n    data.donors.map((el, i) => {\n\n      // only show ten since\n      // this is a top 10 list\n      if(i < data.limitDonorsShown) {\n        donor =\n          `<div class=\"card_back--article-table_trow key_${i}\">\n            <div class=\"card_back--article-table_td\">${el.name}</div>\n            <div class=\"card_back--article-table_td\">$${el.amount}</div>\n            <div class=\"card_back--article-table_td\">${el.type}</div>\n          </div>`;\n\n        total = el.amount + total;\n\n        // append donor(s) after `div.card_back--article-table_thead`\n        donorsTableSibling.insertAdjacentHTML(\"afterend\", donor);\n      }\n    });\n\n    return total;\n  },\n  // set donor total\n  setDonorTotal(total) {\n    let elements = document.querySelectorAll('.donorTotal--js');\n\n    // loop elements\n    for(let i = 0; i < elements.length; i++) {\n      // display total donated\n      elements[i].textContent = total.toLocaleString();\n    }\n  },\n  // set number of donors\n  setNumOfDonors(total) {\n    let elements = document.querySelectorAll('.numOfDonors--js');\n\n    // loop elements\n    for(let i = 0; i < elements.length; i++) {\n      // display total num of donors\n      elements[i].textContent = total;\n    }\n  },\n  // init app\n  init() {\n\n    // store data\n    let data = this._cache();\n    data.donors = donors;\n    data.card = document.getElementById(\"card\");\n    data.cardFront = document.querySelector(\".card_front--container\");\n    data.cardBack = document.querySelector(\".card_back--container\");\n\n    // build donor data\n    let total = this.setDonors(data);\n    this.setDonorTotal(total);\n    this.setNumOfDonors(data.donors.length);\n\n    // listen for card click\n    data.card.addEventListener(\"click\", (e) => {\n\n      // do not flip if cta btn is clicked\n      if(!e.target.classList.contains('card_back__cta')) {\n        // flip front/back\n        this.flip(e, data);\n      }\n    });\n  }\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  // store factory function\n  // in app variable\n  let app = campaignCard();\n  // call campaign init\n  app.init();\n})"]}