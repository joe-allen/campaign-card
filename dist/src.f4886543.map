{"version":3,"sources":["0","index.js"],"names":["module","exports","name","amount","type","campaignCard","_cache","cache","cardIsFront","flip","e","data","document","querySelector","cardBack","classList","add","addEventListener","cardFront","remove","once","setDonors","donor","total","donorsTableSibling","donors","map","el","i","insertAdjacentHTML","setDonorsTotal","elements","querySelectorAll","length","textContent","setNumOfDonors","init","card","getElementById","target","contains"],"mappings":"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","file":"src.f4886543.map","sourceRoot":"../src","sourcesContent":[null,"import 'sanitize.css';\nimport './css/variables.css';\nimport './css/index.css';\nimport donors from './assets/donors.json'\n\nconst campaignCard = () => ({\n  _cache() {\n    let cache = (\n      {\n        cardIsFront: true,\n      }\n    );\n    return cache;\n  },\n  flip(e, data) {\n    let donorsTableSibling = document.querySelector('.card_back--article-table_thead');\n    // toggle cardFront boolean\n    data.cardIsFront = !data.cardIsFront;\n\n    // if card front visible\n    if(data.cardIsFront) {\n\n      // card back animation leave\n      data.cardBack.classList.add('flip_out');\n\n      // wait for card back animation end\n      data.cardBack.addEventListener(\"animationend\", function(){\n        // card back hide\n        data.cardBack.classList.add('hide');\n        // card front remove hide\n        data.cardFront.classList.remove('hide');\n        // card back animation enter\n        data.cardFront.classList.add('flip_in');\n      }, { once: true });\n\n      data.cardFront.addEventListener(\"animationend\", function(){\n        // remove ui classes\n        data.cardBack.classList.remove('flip_out');\n        data.cardFront.classList.remove('flip_in');\n      }, { once: true });\n\n    } else {\n\n      // card front animation leave\n      data.cardFront.classList.add('flip_out');\n\n      // wait for card front animation end\n      data.cardFront.addEventListener(\"animationend\", function(){\n        // card back remove hide\n        data.cardFront.classList.add('hide');\n        // card front hide\n        data.cardBack.classList.remove('hide');\n        // card back animation enter\n        data.cardBack.classList.add('flip_in');\n      }, { once: true });\n\n      // wait for card back animation\n      data.cardBack.addEventListener(\"animationend\", function(){\n        // remove ui classes\n        data.cardFront.classList.remove('flip_out');\n        data.cardBack.classList.remove('flip_in');\n      }, { once: true });\n    }\n  },\n  setDonors(data) {\n    let donor;\n    let total = 0;\n    let donorsTableSibling = document.querySelector('.card_back--article-table_thead');\n\n    data.donors.map((el, i) => {\n      donor =\n        `<div class=\"card_back--article-table_trow key_${i}\">\n          <div class=\"card_back--article-table_td\">${el.name}</div>\n          <div class=\"card_back--article-table_td\">${el.amount}</div>\n          <div class=\"card_back--article-table_td\">${el.type}</div>\n        </div>`;\n\n      total = el.amount + total;\n\n      // append donor(s) after `div.card_back--article-table_thead`\n      donorsTableSibling.insertAdjacentHTML(\"afterend\", donor);\n    });\n\n    return total;\n  },\n  setDonorsTotal(total) {\n    let elements = document.querySelectorAll('.donorTotal--js');\n\n    // loop elements\n    for(let i = 0; i < elements.length; i++) {\n      // display total donated\n      elements[i].textContent = total;\n    }\n  },\n  setNumOfDonors(total) {\n    let elements = document.querySelectorAll('.numOfDonors--js');\n\n    // loop elements\n    for(let i = 0; i < elements.length; i++) {\n      // display total num of donors\n      elements[i].textContent = total;\n    }\n  },\n  // init app\n  init() {\n\n    // store data\n    let data = this._cache();\n    data.donors = donors;\n    data.card = document.getElementById(\"card\");\n    data.cardFront = document.querySelector(\".card_front--container\");\n    data.cardBack = document.querySelector(\".card_back--container\");\n\n    // build donor data\n    let total = this.setDonors(data);\n    this.setDonorsTotal(total);\n    this.setNumOfDonors(data.donors.length);\n\n    // listen for card click\n    data.card.addEventListener(\"click\", (e) => {\n\n      // do not flip if cta btn is clicked\n      if(!e.target.classList.contains('card_back__cta')) {\n        // flip front/back\n        this.flip(e, data);\n      }\n    });\n  }\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  // store factory function\n  // in app variable\n  let app = campaignCard();\n  // call campaign init\n  app.init();\n})"]}